<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìê Pythagorean Means Explorer</title>
    <style>
            :root {
                /* Nordic Minimalist Palette */
                --primary: #3d5a80;        /* Slate Blue - calm, confident */
                --secondary: #7b6d8d;      /* Dusty Lavender - soft, refined */
                --success: #50808e;        /* Teal Gray - balanced, modern */
                --warning: #a87c4f;        /* Bronze - warm, organic */
                --danger: #a05b5b;         /* Muted Rose - gentle warning */
                --bg: #f5f5f4;             /* Stone White - natural, warm */
                --text: #3a3a3a;           /* Soft Black - readable, not harsh */
                --border: #d6d3ce;         /* Greige - sophisticated neutral */
                --explore-color: #4a6fa5;  /* Periwinkle - exploratory, curious */
                --efficiency-color: #8a7ba8; /* Lavender Gray - efficient, calm */
            }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        header .subtitle {
            font-size: 1.3rem;
            opacity: 0.95;
            margin-bottom: 0.5rem;
        }

        header .version {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .help-button {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: rgba(255,255,255,0.2);
            border: 2px solid white;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .help-button:hover {
            background: white;
            color: var(--primary);
        }

        .container {
            max-width: 1600px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .intro-panel {
            background: linear-gradient(135deg, #f0f9ff, #e0e7ff);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 6px solid var(--primary);
        }

        .intro-panel h2 {
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .intro-panel p {
            font-size: 1.1rem;
            margin-bottom: 0.8rem;
        }

        .intro-panel .highlight {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-weight: 600;
        }

        .control-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .control-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: relative;
        }

        .control-card.goal { border-top: 4px solid #3b82f6; }
        .control-card.info { border-top: 4px solid #8b5cf6; }
        .control-card.cost { border-top: 4px solid #ef4444; }

        .control-label {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .control-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .control-card.goal .control-value { color: #3b82f6; }
        .control-card.info .control-value { color: #8b5cf6; }
        .control-card.cost .control-value { color: #ef4444; }

        input[type="range"] {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: var(--border);
            outline: none;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            margin: 1rem 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .dual-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .bundle-panel {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .bundle-panel.explore {
            border-top: 6px solid var(--explore-color);
        }

        .bundle-panel.efficiency {
            border-top: 6px solid var(--efficiency-color);
        }

        .bundle-panel h2 {
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        .bundle-panel.explore h2 { color: var(--explore-color); }
        .bundle-panel.efficiency h2 { color: var(--efficiency-color); }

        .formula-display {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            border: 2px dashed var(--border);
        }

        /* SVG Triangle Visualization */
        .triangle-container {
            margin: 2rem 0;
            text-align: center;
        }

        .triangle-svg {
            background: #f9fafb;
            border-radius: 8px;
            border: 2px solid var(--border);
        }

        /* Canvas Decision Space */
        .canvas-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .canvas-container h2 {
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .decision-canvas {
            border: 2px solid var(--border);
            border-radius: 8px;
            background: white;
            cursor: crosshair;
        }

        .canvas-legend {
            display: flex;
            justify-content: space-around;
            margin-top: 1rem;
            padding: 1rem;
            background: #f9fafb;
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid var(--text);
        }

        .means-visualization {
            margin: 2rem 0;
        }

        .means-bars {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .mean-bar {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .mean-label {
            width: 120px;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .mean-bar-container {
            flex: 1;
            height: 30px;
            background: var(--border);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .mean-bar-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .mean-bar-fill.harmonic {
            background: linear-gradient(90deg, #ef4444, #f87171);
        }

        .mean-bar-fill.geometric {
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
        }

        .mean-bar-fill.arithmetic {
            background: linear-gradient(90deg, #10b981, #34d399);
        }

        .gauge-section {
            margin: 2rem 0;
        }

        .gauge-section h3 {
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .gauge-container {
            margin: 1.5rem 0;
        }

        .gauge {
            width: 100%;
            height: 50px;
            background: linear-gradient(to right,
                #ef4444 0%,
                #f59e0b 25%,
                #fbbf24 50%,
                #84cc16 75%,
                #10b981 100%);
            border-radius: 25px;
            position: relative;
            overflow: visible;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .gauge-indicator {
            position: absolute;
            top: -15px;
            width: 6px;
            height: 80px;
            background: white;
            border: 3px solid var(--text);
            border-radius: 3px;
            transition: left 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            z-index: 10;
        }

        .gauge-indicator::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 10px solid var(--text);
        }

        .gauge-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 600;
        }

        .k-value-display {
            background: linear-gradient(135deg, #f0f9ff, #e0e7ff);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            margin: 1rem 0;
        }

        .k-value-display .k-label {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .k-value-display .k-number {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .bundle-panel.explore .k-number {
            color: var(--explore-color);
        }

        .bundle-panel.efficiency .k-number {
            color: var(--efficiency-color);
        }

        .k-value-display .k-interpretation {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text);
        }

        .preset-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .preset-section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        .preset-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .preset-btn {
            padding: 1.5rem;
            border: 3px solid var(--primary);
            background: white;
            color: var(--primary);
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.2s;
            text-align: center;
        }

        .preset-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(37, 99, 235, 0.3);
        }

        .preset-btn:active {
            transform: translateY(-2px);
        }

        .preset-btn .preset-emoji {
            font-size: 2rem;
            display: block;
            margin-bottom: 0.5rem;
        }

        .preset-btn .preset-desc {
            font-size: 0.9rem;
            font-weight: normal;
            opacity: 0.8;
            margin-top: 0.5rem;
        }

        /* Tutorial Overlay */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .tutorial-overlay.active {
            display: flex;
        }

        .tutorial-content {
            background: white;
            border-radius: 16px;
            padding: 3rem;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            position: relative;
        }

        .tutorial-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--danger);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .tutorial-close:hover {
            background: #dc2626;
        }

        .tutorial-step {
            margin-bottom: 2rem;
        }

        .tutorial-step h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .tutorial-step p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 0.8rem;
        }

        .tutorial-step ul {
            margin-left: 2rem;
            font-size: 1.1rem;
        }

        .tutorial-step li {
            margin-bottom: 0.5rem;
        }

        .tutorial-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .tutorial-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tutorial-btn.primary {
            background: var(--primary);
            color: white;
        }

        .tutorial-btn.primary:hover {
            background: #1d4ed8;
        }

        .tutorial-btn.secondary {
            background: var(--border);
            color: var(--text);
        }

        .tutorial-btn.secondary:hover {
            background: #d1d5db;
        }

        /* Tooltips */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip .tooltip-icon {
            display: inline-block;
            width: 18px;
            height: 18px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            text-align: center;
            font-size: 0.8rem;
            line-height: 18px;
            margin-left: 0.3rem;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            opacity: 0;
            width: 300px;
            background: #1f2937;
            color: white;
            text-align: left;
            border-radius: 8px;
            padding: 1rem;
            position: absolute;
            z-index: 100;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            font-size: 0.9rem;
            line-height: 1.5;
            transition: opacity 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .pedagogy-section {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .pedagogy-section h2 {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid var(--border);
            padding-bottom: 0.5rem;
        }

        .pedagogy-section h3 {
            color: var(--secondary);
            font-size: 1.5rem;
            margin: 2rem 0 1rem 0;
        }

        .pedagogy-section p {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .pedagogy-section ul {
            margin: 1rem 0 1rem 2rem;
            font-size: 1.1rem;
        }

        .pedagogy-section li {
            margin-bottom: 0.8rem;
            line-height: 1.8;
        }

        .pedagogy-box {
            background: #f0f9ff;
            border-left: 6px solid var(--primary);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .pedagogy-box.warning {
            background: #fff7ed;
            border-left-color: var(--warning);
        }

        .pedagogy-box.success {
            background: #f0fdf4;
            border-left-color: var(--success);
        }

        .formula-box {
            background: #1f2937;
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            margin: 1.5rem 0;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .comparison-table th {
            background: var(--bg);
            font-weight: 600;
            color: var(--primary);
        }

        .comparison-table tr:hover {
            background: #f9fafb;
        }

        footer {
            text-align: center;
            padding: 3rem 2rem;
            color: #6b7280;
            margin-top: 4rem;
            border-top: 1px solid var(--border);
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 1200px) {
            .dual-panel {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .control-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 2rem;
            }

            .preset-grid {
                grid-template-columns: 1fr;
            }

            .help-button {
                position: static;
                margin-top: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üìê Pythagorean Means Explorer</h1>
        <div class="subtitle">Geometric Analysis for Multi-Objective Decision-Making</div>
        <div class="version">Version 3.0</div>
        <button class="help-button" onclick="showTutorial()">‚ùì Tutorial</button>
    </header>

    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorial-overlay">
        <div class="tutorial-content">
            <button class="tutorial-close" onclick="closeTutorial()">‚úï Close</button>

            <div class="tutorial-step">
                <h3>üëã Welcome to the Pythagorean Mean Gauge</h3>
                <p>This interactive visualizer demonstrates a novel approach to analyzing AI decision-making using <strong>Pythagorean means</strong>.</p>
                <p>Traditional AI scoring produces a single number. The Pythagorean Mean Gauge reveals the <em>shape</em> of trade-offs.</p>
            </div>

            <div class="tutorial-step">
                <h3>üéØ Key Concepts</h3>
                <ul>
                    <li><strong>Exploration Bundle:</strong> Analyzes balance between Goal and Information</li>
                    <li><strong>Efficiency Bundle:</strong> Analyzes return-on-investment (Benefit vs Cost)</li>
                    <li><strong>Shape Coefficient (k):</strong> Measures balance in [0,1] where 1.0 = perfect balance</li>
                    <li><strong>H ‚â§ G ‚â§ A:</strong> Mathematical invariant showing Harmonic ‚â§ Geometric ‚â§ Arithmetic means</li>
                </ul>
            </div>

            <div class="tutorial-step">
                <h3>üé® Visual Features</h3>
                <ul>
                    <li><strong>Color-coded Bars:</strong> Red (H) ‚Üí Yellow (G) ‚Üí Green (A) show the Pythagorean means</li>
                    <li><strong>Triangle Visualization:</strong> Geometric representation of H, G, A relationship</li>
                    <li><strong>Decision Space Plot:</strong> Shows your exploration history with color-coded trails</li>
                    <li><strong>Dual Gauges:</strong> Separate gauges for exploration and efficiency</li>
                </ul>
            </div>

            <div class="tutorial-step">
                <h3>üöÄ How to Use</h3>
                <ol>
                    <li><strong>Adjust Sliders:</strong> Move Goal, Info, and Cost sliders to see effects</li>
                    <li><strong>Watch Triangles:</strong> See how H, G, A points move in the geometric space</li>
                    <li><strong>Observe Gauges:</strong> Notice how k_explore and k_efficiency change</li>
                    <li><strong>Try Presets:</strong> Click scenario buttons to see canonical examples</li>
                    <li><strong>Track History:</strong> The canvas shows a trail of your decisions</li>
                </ol>
            </div>

            <div class="tutorial-step">
                <h3>üí° Tooltips Available</h3>
                <p>Hover over the <span style="display: inline-block; width: 18px; height: 18px; background: #2563eb; color: white; border-radius: 50%; text-align: center; font-size: 0.8rem; line-height: 18px;">?</span> icons throughout the interface for detailed explanations.</p>
            </div>

            <div class="tutorial-buttons">
                <button class="tutorial-btn primary" onclick="closeTutorial()">Got it! Let's explore</button>
                <button class="tutorial-btn secondary" onclick="resetToDefault()">Reset to Defaults</button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Introduction -->
        <div class="intro-panel">
            <h2>What You're Seeing <span class="tooltip"><span class="tooltip-icon">?</span><span class="tooltip-text">This visualizer shows how Pythagorean means (H, G, A) reveal the geometric structure of multi-objective decision-making, beyond simple scalar scoring.</span></span></h2>
            <p>This visualizer demonstrates a novel approach to analyzing decision-making in AI systems using <strong>Pythagorean means</strong>‚Äîa geometric lens that reveals the <em>shape</em> of trade-offs, not just the final score.</p>
            <p>Traditional AI scoring produces a single number: <code>score = Œ±¬∑goal + Œ≤¬∑info - Œ≥¬∑cost</code></p>
            <p>The Pythagorean Mean Gauge adds geometric structure by computing <strong>two shape coefficients</strong> that measure balance and efficiency.</p>
            <div class="highlight">
                üí° <strong>Key Insight:</strong> By measuring how Harmonic, Geometric, and Arithmetic means relate, we can distinguish between "balanced exploration" (k ‚âà 1.0) and "specialist focus" (k ‚âà 0.3) without changing the agent's behavior.
            </div>
        </div>

        <!-- Controls -->
        <div class="control-grid">
            <div class="control-card goal">
                <div class="control-label">
                    <span>üéØ Goal Value <span class="tooltip"><span class="tooltip-icon">?</span><span class="tooltip-text">Expected contribution toward the objective. High values mean the action strongly advances your goal.</span></span></span>
                    <span class="control-value" id="goal-display">5.0</span>
                </div>
                <input type="range" id="goal-slider" min="0" max="10" step="0.1" value="5">
                <small>Expected contribution toward the objective (0-10)</small>
            </div>

            <div class="control-card info">
                <div class="control-label">
                    <span>üîç Information Gain <span class="tooltip"><span class="tooltip-icon">?</span><span class="tooltip-text">Expected reduction in uncertainty. High values mean the action helps you learn about the environment.</span></span></span>
                    <span class="control-value" id="info-display">5.0</span>
                </div>
                <input type="range" id="info-slider" min="0" max="10" step="0.1" value="5">
                <small>Expected reduction in uncertainty (0-10)</small>
            </div>

            <div class="control-card cost">
                <div class="control-label">
                    <span>‚ö†Ô∏è Cost <span class="tooltip"><span class="tooltip-icon">?</span><span class="tooltip-text">Resource expenditure or risk. High cost affects the efficiency bundle, showing ROI trade-offs.</span></span></span>
                    <span class="control-value" id="cost-display">2.0</span>
                </div>
                <input type="range" id="cost-slider" min="0" max="10" step="0.1" value="2">
                <small>Action cost / resource expenditure (0-10)</small>
            </div>
        </div>

         <!-- Presets -->
        <div class="preset-section">
            <h2>üìå Example Scenarios</h2>
            <div class="preset-grid">
                <button class="preset-btn" onclick="setPureExplorer()">
                    <span class="preset-emoji">üîç</span>
                    Pure Explorer
                    <div class="preset-desc">High info, low goal, low cost</div>
                </button>
                <button class="preset-btn" onclick="setPureExploiter()">
                    <span class="preset-emoji">üéØ</span>
                    Pure Exploiter
                    <div class="preset-desc">High goal, low info, low cost</div>
                </button>
                <button class="preset-btn" onclick="setBalanced()">
                    <span class="preset-emoji">‚öñÔ∏è</span>
                    Balanced Agent
                    <div class="preset-desc">Equal goal & info, moderate cost</div>
                </button>
                <button class="preset-btn" onclick="setExpensiveWin()">
                    <span class="preset-emoji">üí∞</span>
                    Expensive Win
                    <div class="preset-desc">High goal, high cost</div>
                </button>
                <button class="preset-btn" onclick="setCheapExplore()">
                    <span class="preset-emoji">üÜì</span>
                    Cheap Explore
                    <div class="preset-desc">Low values, very low cost</div>
                </button>
                <button class="preset-btn" onclick="setPanicMode()">
                    <span class="preset-emoji">üö®</span>
                    PANIC Protocol
                    <div class="preset-desc">High uncertainty, max info-seeking</div>
                </button>
            </div>
        </div>

        <!-- Decision Space Canvas -->
        <div class="canvas-container">
            <h2>üìç Decision Space Exploration <span class="tooltip"><span class="tooltip-icon">?</span><span class="tooltip-text">This plot shows the (Goal, Info) decision space. Your current position is the large dot, and past decisions form a colored trail. Colors indicate k_explore: red=specialist, yellow=moderate, green=balanced.</span></span></h2>
            <canvas id="decision-canvas" class="decision-canvas" width="800" height="400"></canvas>
            <div class="canvas-legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #ef4444;"></div>
                    <span>Specialist (k < 0.5)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f59e0b;"></div>
                    <span>Moderate (0.5 ‚â§ k < 0.8)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #10b981;"></div>
                    <span>Balanced (k ‚â• 0.8)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #3b82f6;"></div>
                    <span>Current Position</span>
                </div>
            </div>
        </div>

        <!-- Dual Bundle Visualization -->
        <div class="dual-panel">
            <!-- Exploration Bundle -->
            <div class="bundle-panel explore">
                <h2>üìä Exploration Bundle <span class="tooltip"><span class="tooltip-icon">?</span><span class="tooltip-text">Analyzes the balance between Goal and Information. Shows whether the agent is a generalist (k‚âà1) or specialist (k‚âà0).</span></span></h2>
                <div class="formula-display">
                    Analyzing: <strong>Goal</strong> vs <strong>Info</strong>
                </div>

                <!-- SVG Triangle -->
                <div class="triangle-container">
                    <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem;">Geometric Representation</h3>
                    <svg id="explore-triangle" class="triangle-svg" width="100%" height="200" viewBox="0 0 400 200"></svg>
                    <small style="color: #6b7280; font-style: italic;">Points: H (red) ‚â§ G (yellow) ‚â§ A (green)</small>
                </div>

                <div class="means-visualization">
                    <h3 style="font-size: 1.2rem; margin-bottom: 1rem;">Pythagorean Means</h3>
                    <div class="means-bars">
                        <div class="mean-bar">
                            <div class="mean-label">H (Harmonic)</div>
                            <div class="mean-bar-container">
                                <div class="mean-bar-fill harmonic" id="explore-hm-bar">
                                    <span id="explore-hm-value">0.00</span>
                                </div>
                            </div>
                        </div>
                        <div class="mean-bar">
                            <div class="mean-label">G (Geometric)</div>
                            <div class="mean-bar-container">
                                <div class="mean-bar-fill geometric" id="explore-gm-bar">
                                    <span id="explore-gm-value">0.00</span>
                                </div>
                            </div>
                        </div>
                        <div class="mean-bar">
                            <div class="mean-label">A (Arithmetic)</div>
                            <div class="mean-bar-container">
                                <div class="mean-bar-fill arithmetic" id="explore-am-bar">
                                    <span id="explore-am-value">0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <small style="color: #6b7280; font-style: italic;">Mathematical invariant: H ‚â§ G ‚â§ A (equality when goal = info)</small>
                </div>

                <div class="gauge-section">
                    <h3>k_explore = G / A</h3>
                    <div class="gauge-container">
                        <div class="gauge">
                            <div class="gauge-indicator" id="explore-gauge-indicator"></div>
                        </div>
                        <div class="gauge-labels">
                            <span>Specialist (0.0)</span>
                            <span>Balanced (1.0)</span>
                        </div>
                    </div>
                </div>

                <div class="k-value-display">
                    <div class="k-label">Shape Coefficient</div>
                    <div class="k-number" id="explore-k-value">0.000</div>
                    <div class="k-interpretation" id="explore-k-interp">Perfectly Balanced</div>
                </div>
            </div>

            <!-- Efficiency Bundle -->
            <div class="bundle-panel efficiency">
                <h2>‚ö° Efficiency Bundle <span class="tooltip"><span class="tooltip-icon">?</span><span class="tooltip-text">Analyzes the return-on-investment by comparing total benefit (Goal+Info) against Cost. Shows resource efficiency.</span></span></h2>
                <div class="formula-display">
                    Analyzing: <strong>(Goal + Info)</strong> vs <strong>Cost</strong>
                </div>

                <!-- SVG Triangle -->
                <div class="triangle-container">
                    <h3 style="font-size: 1.1rem; margin-bottom: 0.5rem;">Geometric Representation</h3>
                    <svg id="efficiency-triangle" class="triangle-svg" width="100%" height="200" viewBox="0 0 400 200"></svg>
                    <small style="color: #6b7280; font-style: italic;">Points: H (red) ‚â§ G (yellow) ‚â§ A (green)</small>
                </div>

                <div class="means-visualization">
                    <h3 style="font-size: 1.2rem; margin-bottom: 1rem;">Pythagorean Means</h3>
                    <div class="means-bars">
                        <div class="mean-bar">
                            <div class="mean-label">H (Harmonic)</div>
                            <div class="mean-bar-container">
                                <div class="mean-bar-fill harmonic" id="efficiency-hm-bar">
                                    <span id="efficiency-hm-value">0.00</span>
                                </div>
                            </div>
                        </div>
                        <div class="mean-bar">
                            <div class="mean-label">G (Geometric)</div>
                            <div class="mean-bar-container">
                                <div class="mean-bar-fill geometric" id="efficiency-gm-bar">
                                    <span id="efficiency-gm-value">0.00</span>
                                </div>
                            </div>
                        </div>
                        <div class="mean-bar">
                            <div class="mean-label">A (Arithmetic)</div>
                            <div class="mean-bar-container">
                                <div class="mean-bar-fill arithmetic" id="efficiency-am-bar">
                                    <span id="efficiency-am-value">0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <small style="color: #6b7280; font-style: italic;">Mathematical invariant: H ‚â§ G ‚â§ A (equality when benefit = cost)</small>
                </div>

                <div class="gauge-section">
                    <h3>k_efficiency = G / A</h3>
                    <div class="gauge-container">
                        <div class="gauge">
                            <div class="gauge-indicator" id="efficiency-gauge-indicator"></div>
                        </div>
                        <div class="gauge-labels">
                            <span>Poor ROI (0.0)</span>
                            <span>Balanced (1.0)</span>
                        </div>
                    </div>
                </div>

                <div class="k-value-display">
                    <div class="k-label">Shape Coefficient</div>
                    <div class="k-number" id="efficiency-k-value">0.000</div>
                    <div class="k-interpretation" id="efficiency-k-interp">Perfectly Balanced</div>
                </div>
            </div>
        </div>

       

        <!-- Comprehensive Pedagogy (Collapsed by default in v3) -->
        <details class="pedagogy-section">
            <summary style="cursor: pointer; font-size: 1.5rem; font-weight: bold; color: var(--primary); padding: 1rem 0;">
                üìö Complete Mathematical Framework (Click to Expand)
            </summary>

            <h3>1. What Are Pythagorean Means?</h3>
            <p>The three classical means‚ÄîHarmonic (H), Geometric (G), and Arithmetic (A)‚Äîprovide different ways to average two positive numbers. For any positive <em>a</em> and <em>b</em>:</p>

            <div class="formula-box">
                H = 2 / (1/a + 1/b)<br>
                G = ‚àö(a √ó b)<br>
                A = (a + b) / 2
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Mean</th>
                        <th>Interpretation</th>
                        <th>When It Matters</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Harmonic (H)</strong></td>
                        <td>Bottleneck / Series average</td>
                        <td>Heavily penalizes imbalance (e.g., 1 and 100 ‚Üí H ‚âà 2)</td>
                    </tr>
                    <tr>
                        <td><strong>Geometric (G)</strong></td>
                        <td>Balanced / Multiplicative average</td>
                        <td>Natural mean for ratios and products (scaling-invariant)</td>
                    </tr>
                    <tr>
                        <td><strong>Arithmetic (A)</strong></td>
                        <td>Simple average</td>
                        <td>Standard mean, treats both values equally</td>
                    </tr>
                </tbody>
            </table>

            <div class="pedagogy-box">
                <strong>Mathematical Invariant:</strong> For any positive <em>a</em> and <em>b</em>, the inequality <code>H ‚â§ G ‚â§ A</code> always holds. Equality occurs if and only if <em>a = b</em> (perfect balance).
            </div>

            <h3>2. The Shape Coefficient k = G/A</h3>

            <p>The ratio <code>k = G/A</code> is a dimensionless measure of balance. Because G ‚â§ A (with equality when values are equal), we have:</p>

            <div class="formula-box">
                k = G/A ‚àà [0, 1]<br>
                <br>
                k = 1.0 ‚ü∫ a = b (perfect balance)<br>
                k ‚Üí 0.0 ‚ü∫ extreme imbalance (one value ‚Üí 0)
            </div>

            <h3>3. Connection to Active Inference</h3>

            <p>The MacGyver agent uses Active Inference to score actions based on <strong>Expected Free Energy</strong>:</p>

            <div class="formula-box">
                G = Œ±¬∑goal_value + Œ≤¬∑info_gain - Œ≥¬∑cost
            </div>

            <p>The Pythagorean Mean Gauge <strong>does not replace</strong> this scoring. Instead, it <strong>annotates</strong> each decision with geometric structure for interpretability.</p>

            <h3>4. V3 Enhancements</h3>

            <div class="pedagogy-box success">
                <strong>üÜï SVG Triangle Visualization:</strong><br>
                Shows H, G, A as points in geometric space. When values are equal, all three points converge. When imbalanced, they spread along the number line.<br><br>

                <strong>üÜï Decision Space Canvas:</strong><br>
                Plots your exploration history in (Goal, Info) space with color-coded trails showing k_explore evolution over time.<br><br>

                <strong>üÜï Interactive Tutorial:</strong><br>
                First-time overlay and hover tooltips (?) throughout the interface explain each component.
            </div>
        </details>
    </div>

    <footer>
        <p><strong>MacGyver MUD</strong> ‚Äî Meta-Cognitive Agent Architecture</p>
        <p>
            <a href="https://github.com/mrlecko/macgyver_mud">View Project</a> |
            <a href="https://github.com/mrlecko/macgyver_mud/blob/main/scoring_silver.py">Source Code</a> |
            <a href="mailto:mrlecko@gmail.com">Contact</a>
        </p>
        <!-- <p style="margin-top: 1rem; font-size: 0.9rem;">
            V3: Now with SVG triangles, decision space plotting, and interactive tutorials.
        </p> -->
    </footer>

    <script>
        // ====================================================================
        // CORE MATHEMATICS (Validated against test_silver_gauge_math.js)
        // ====================================================================

        function ensurePositive(x, eps = 1e-9) {
            return Math.max(0.0, parseFloat(x)) + eps;
        }

        function harmonicMean(a, b) {
            a = ensurePositive(a);
            b = ensurePositive(b);
            return 2.0 / (1.0 / a + 1.0 / b);
        }

        function geometricMean(a, b) {
            a = ensurePositive(a);
            b = ensurePositive(b);
            return Math.sqrt(a * b);
        }

        function arithmeticMean(a, b) {
            a = ensurePositive(a);
            b = ensurePositive(b);
            return 0.5 * (a + b);
        }

        function calculateExploration(goal, info) {
            const g = ensurePositive(goal);
            const i = ensurePositive(info);

            const hm_gi = harmonicMean(g, i);
            const gm_gi = geometricMean(g, i);
            const am_gi = arithmeticMean(g, i);

            const k_explore = am_gi > 0 ? (gm_gi / am_gi) : 0.0;

            return {
                H: hm_gi,
                G: gm_gi,
                A: am_gi,
                k_explore: k_explore
            };
        }

        function calculateEfficiency(goal, info, cost) {
            const g = ensurePositive(goal);
            const i = ensurePositive(info);
            const c = ensurePositive(cost);

            const g_plus_i = ensurePositive(g + i);

            const hm_gc = harmonicMean(g_plus_i, c);
            const gm_gc = geometricMean(g_plus_i, c);
            const am_gc = arithmeticMean(g_plus_i, c);

            const k_efficiency = am_gc > 0 ? (gm_gc / am_gc) : 0.0;

            return {
                H: hm_gc,
                G: gm_gc,
                A: am_gc,
                k_efficiency: k_efficiency
            };
        }

        function interpretKExplore(k) {
            if (k > 0.95) return "Perfectly Balanced (Generalist)";
            if (k > 0.90) return "Very Well Balanced";
            if (k > 0.80) return "Well-Balanced";
            if (k > 0.65) return "Moderately Balanced";
            if (k > 0.40) return "Specialist (Favors One Objective)";
            return "Extreme Specialist (One-Dimensional)";
        }

        function interpretKEfficiency(k) {
            if (k > 0.95) return "Excellent ROI (Balanced)";
            if (k > 0.85) return "Good Return on Investment";
            if (k > 0.70) return "Moderate Efficiency";
            if (k > 0.50) return "Acceptable Trade-off";
            return "Poor Efficiency";
        }

        // ====================================================================
        // STATE MANAGEMENT
        // ====================================================================

        let state = {
            goal: 5.0,
            info: 5.0,
            cost: 2.0,
            history: []
        };

        // ====================================================================
        // SVG TRIANGLE VISUALIZATION
        // ====================================================================

        function drawTriangle(svgId, H, G, A, maxValue) {
            const svg = document.getElementById(svgId);
            svg.innerHTML = ''; // Clear previous

            const width = 400;
            const height = 200;
            const padding = 40;
            const lineY = height / 2;

            // Scale to fit
            const scale = (width - 2 * padding) / maxValue;

            // Draw baseline
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', padding);
            line.setAttribute('y1', lineY);
            line.setAttribute('x2', width - padding);
            line.setAttribute('y2', lineY);
            line.setAttribute('stroke', '#d1d5db');
            line.setAttribute('stroke-width', '2');
            svg.appendChild(line);

            // Draw points
            const points = [
                { value: H, label: 'H', color: '#ef4444' },
                { value: G, label: 'G', color: '#f59e0b' },
                { value: A, label: 'A', color: '#10b981' }
            ];

            points.forEach(point => {
                const x = padding + point.value * scale;

                // Point circle
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', x);
                circle.setAttribute('cy', lineY);
                circle.setAttribute('r', '8');
                circle.setAttribute('fill', point.color);
                circle.setAttribute('stroke', 'white');
                circle.setAttribute('stroke-width', '2');
                svg.appendChild(circle);

                // Label
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', x);
                text.setAttribute('y', lineY - 20);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('font-size', '14');
                text.setAttribute('font-weight', 'bold');
                text.setAttribute('fill', point.color);
                text.textContent = `${point.label}: ${point.value.toFixed(2)}`;
                svg.appendChild(text);
            });

            // Draw connecting lines showing spread
            if (H < A) {
                const connector = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                connector.setAttribute('x1', padding + H * scale);
                connector.setAttribute('y1', lineY + 30);
                connector.setAttribute('x2', padding + A * scale);
                connector.setAttribute('y2', lineY + 30);
                connector.setAttribute('stroke', '#6b7280');
                connector.setAttribute('stroke-width', '2');
                connector.setAttribute('stroke-dasharray', '4');
                svg.appendChild(connector);

                // Spread label
                const spread = A - H;
                const spreadText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                spreadText.setAttribute('x', padding + (H + A) * scale / 2);
                spreadText.setAttribute('y', lineY + 50);
                spreadText.setAttribute('text-anchor', 'middle');
                spreadText.setAttribute('font-size', '12');
                spreadText.setAttribute('fill', '#6b7280');
                spreadText.textContent = `Spread: ${spread.toFixed(2)}`;
                svg.appendChild(spreadText);
            }
        }

        // ====================================================================
        // CANVAS DECISION SPACE
        // ====================================================================

        const canvas = document.getElementById('decision-canvas');
        const ctx = canvas.getContext('2d');

        function getColorForK(k) {
            if (k < 0.5) return '#ef4444'; // Red - Specialist
            if (k < 0.8) return '#f59e0b'; // Orange - Moderate
            return '#10b981'; // Green - Balanced
        }

        function drawDecisionSpace() {
            // Clear canvas
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw grid
            ctx.strokeStyle = '#e5e7eb';
            ctx.lineWidth = 1;

            // Vertical lines
            for (let i = 0; i <= 10; i++) {
                const x = (i / 10) * (canvas.width - 80) + 40;
                ctx.beginPath();
                ctx.moveTo(x, 20);
                ctx.lineTo(x, canvas.height - 40);
                ctx.stroke();
            }

            // Horizontal lines
            for (let i = 0; i <= 10; i++) {
                const y = canvas.height - 40 - (i / 10) * (canvas.height - 60);
                ctx.beginPath();
                ctx.moveTo(40, y);
                ctx.lineTo(canvas.width - 40, y);
                ctx.stroke();
            }

            // Axes
            ctx.strokeStyle = '#1f2937';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(40, canvas.height - 40);
            ctx.lineTo(canvas.width - 40, canvas.height - 40);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(40, 20);
            ctx.lineTo(40, canvas.height - 40);
            ctx.stroke();

            // Labels
            ctx.fillStyle = '#1f2937';
            ctx.font = '14px sans-serif';
            ctx.fillText('Goal ‚Üí', canvas.width / 2 - 20, canvas.height - 10);
            ctx.save();
            ctx.translate(15, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Info ‚Üí', 0, 0);
            ctx.restore();

            // Draw history trail
            state.history.forEach((point, index) => {
                const x = 40 + (point.goal / 10) * (canvas.width - 80);
                const y = canvas.height - 40 - (point.info / 10) * (canvas.height - 60);
                const alpha = Math.max(0.3, index / state.history.length);

                ctx.fillStyle = getColorForK(point.k) + Math.round(alpha * 255).toString(16).padStart(2, '0');
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, 2 * Math.PI);
                ctx.fill();
            });

            // Draw current position (larger)
            const currentX = 40 + (state.goal / 10) * (canvas.width - 80);
            const currentY = canvas.height - 40 - (state.info / 10) * (canvas.height - 60);

            ctx.fillStyle = '#3b82f6';
            ctx.beginPath();
            ctx.arc(currentX, currentY, 10, 0, 2 * Math.PI);
            ctx.fill();
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 3;
            ctx.stroke();
        }

        // ====================================================================
        // VISUALIZATION UPDATE
        // ====================================================================

        function update() {
            const g = state.goal;
            const i = state.info;
            const c = state.cost;

            // Calculate both bundles
            const explore = calculateExploration(g, i);
            const efficiency = calculateEfficiency(g, i, c);

            // Update control displays
            document.getElementById('goal-display').textContent = g.toFixed(1);
            document.getElementById('info-display').textContent = i.toFixed(1);
            document.getElementById('cost-display').textContent = c.toFixed(1);

            // Update exploration bundle
            updateBundle('explore', explore, 10);
            drawTriangle('explore-triangle', explore.H, explore.G, explore.A, 10);

            // Update efficiency bundle
            const maxEfficiency = Math.max(g + i, c) * 1.2;
            updateBundle('efficiency', efficiency, maxEfficiency);
            drawTriangle('efficiency-triangle', efficiency.H, efficiency.G, efficiency.A, maxEfficiency);

            // Add to history
            state.history.push({
                goal: g,
                info: i,
                k: explore.k_explore,
                timestamp: Date.now()
            });

            // Keep last 50 points
            if (state.history.length > 50) {
                state.history.shift();
            }

            // Draw decision space
            drawDecisionSpace();

            console.log(`State: goal=${g.toFixed(1)}, info=${i.toFixed(1)}, cost=${c.toFixed(1)}`);
            console.log(`Explore: k=${explore.k_explore.toFixed(3)}, Efficiency: k=${efficiency.k_efficiency.toFixed(3)}`);
        }

        function updateBundle(bundleName, data, maxScale) {
            const { H, G, A, k_explore, k_efficiency } = data;
            const k = k_explore !== undefined ? k_explore : k_efficiency;

            // Update mean bars
            updateMeanBar(bundleName, 'hm', H, maxScale);
            updateMeanBar(bundleName, 'gm', G, maxScale);
            updateMeanBar(bundleName, 'am', A, maxScale);

            // Update gauge
            const gaugeIndicator = document.getElementById(`${bundleName}-gauge-indicator`);
            const percentage = k * 100;
            gaugeIndicator.style.left = `calc(${percentage}% - 3px)`;

            // Update k-value display
            const kValueElem = document.getElementById(`${bundleName}-k-value`);
            const kInterpElem = document.getElementById(`${bundleName}-k-interp`);

            kValueElem.textContent = k.toFixed(3);

            if (bundleName === 'explore') {
                kInterpElem.textContent = interpretKExplore(k);
            } else {
                kInterpElem.textContent = interpretKEfficiency(k);
            }
        }

        function updateMeanBar(bundleName, meanName, value, maxScale) {
            const barElem = document.getElementById(`${bundleName}-${meanName}-bar`);
            const valueElem = document.getElementById(`${bundleName}-${meanName}-value`);

            const percentage = Math.min((value / maxScale) * 100, 100);
            barElem.style.width = `${percentage}%`;
            valueElem.textContent = value.toFixed(2);
        }

        // ====================================================================
        // EVENT LISTENERS
        // ====================================================================

        document.getElementById('goal-slider').addEventListener('input', (e) => {
            state.goal = parseFloat(e.target.value);
            update();
        });

        document.getElementById('info-slider').addEventListener('input', (e) => {
            state.info = parseFloat(e.target.value);
            update();
        });

        document.getElementById('cost-slider').addEventListener('input', (e) => {
            state.cost = parseFloat(e.target.value);
            update();
        });

        // ====================================================================
        // PRESET SCENARIOS
        // ====================================================================

        function setPureExplorer() {
            state.goal = 1.0;
            state.info = 10.0;
            state.cost = 2.0;
            syncSliders();
            update();
        }

        function setPureExploiter() {
            state.goal = 10.0;
            state.info = 1.0;
            state.cost = 2.0;
            syncSliders();
            update();
        }

        function setBalanced() {
            state.goal = 7.0;
            state.info = 7.0;
            state.cost = 3.0;
            syncSliders();
            update();
        }

        function setExpensiveWin() {
            state.goal = 9.0;
            state.info = 2.0;
            state.cost = 8.0;
            syncSliders();
            update();
        }

        function setCheapExplore() {
            state.goal = 2.0;
            state.info = 3.0;
            state.cost = 0.5;
            syncSliders();
            update();
        }

        function setPanicMode() {
            state.goal = 3.0;
            state.info = 10.0;
            state.cost = 1.0;
            syncSliders();
            update();
        }

        function syncSliders() {
            document.getElementById('goal-slider').value = state.goal;
            document.getElementById('info-slider').value = state.info;
            document.getElementById('cost-slider').value = state.cost;
        }

        // ====================================================================
        // TUTORIAL SYSTEM
        // ====================================================================

        function showTutorial() {
            document.getElementById('tutorial-overlay').classList.add('active');
        }

        function closeTutorial() {
            document.getElementById('tutorial-overlay').classList.remove('active');
        }

        function resetToDefault() {
            state.goal = 5.0;
            state.info = 5.0;
            state.cost = 2.0;
            state.history = [];
            syncSliders();
            update();
            closeTutorial();
        }

        // Show tutorial on first visit
        if (!localStorage.getItem('silver-gauge-visited')) {
            setTimeout(() => {
                showTutorial();
                localStorage.setItem('silver-gauge-visited', 'true');
            }, 1000);
        }

        // ====================================================================
        // INITIALIZE
        // ====================================================================

        update();
    </script>
</body>
</html>
